{"version":3,"file":"static/js/HomePage.9a76dc59.chunk.js","mappings":"mPAIe,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAKA,OAHAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MAAmBC,MAAK,SAAAC,GAAO,OAAIJ,EAAUI,EAAQC,cACpD,KAED,iCACE,2CAECN,GACCA,EAAOO,KAAI,SAAAC,GAAK,OACd,yBACE,yBACE,SAAC,KAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaF,EAAMG,IAC3BC,MAAO,CAAEC,KAAMhB,IAHnB,SAMGW,EAAMM,SAPFN,EAAMG,c,kOChB3BI,IAAAA,SAAAA,QAAyB,gCAEzB,IAAMC,EAAM,mCACNC,EAAW,+BACJC,EAAY,kCAAlB,SAEQC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAzD,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASzB,IACd,OAAOgB,EAAuB,GAAD,OAAIF,EAAJ,qCAAyCD,IAGjE,SAASa,EAAelB,GAC7B,OAAOQ,EAAuB,GAAD,OACxBF,EADwB,kBACNN,EADM,oBACQK,EADR,oBAKxB,SAASc,EAAenB,GAC7B,OAAOQ,EAAuB,GAAD,OACxBF,EADwB,kBACNN,EADM,4BACgBK,EADhB,oBAKxB,SAASe,EAAkBpB,GAChC,OAAOQ,EAAuB,GAAD,OACxBF,EADwB,kBACNN,EADM,4BACgBK,EADhB,oBAWxB,IAAMgB,EAAY,mCAAG,WAAMC,GAAN,kFACpBC,EADoB,+BACkBlB,EADlB,4DACyEiB,GADzE,SAGKlB,IAAAA,IAAUmB,GAHf,uBAGZlC,EAHY,EAGlBmC,KAHkB,kBAKnBnC,GALmB,2CAAH","sources":["pages/HomePage.js","services/movies-api.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { fetchTrendMovies } from '../services/movies-api';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport default function HomePage() {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    fetchTrendMovies().then(request => setMovies(request.results));\n  }, []);\n  return (\n    <>\n      <h1>Tranding today</h1>\n\n      {movies &&\n        movies.map(movie => (\n          <ul>\n            <li key={movie.id}>\n              <Link\n                to={{\n                  pathname: `/movies/${movie.id}`,\n                  state: { from: location },\n                }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          </ul>\n        ))}\n    </>\n  );\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst KEY = '1c946dce2b60cb636de6f72a25cb04da';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrendMovies() {\n  return fetchWithErrorHandling(`${BASE_URL}/trending/all/day?api_key=${KEY}`);\n}\n\nexport function fetchMovieById(id) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieCast(id) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviews(id) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieSearch(name) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${KEY}&query=${name}&language=en-US&page=1&include_adult=false`\n  );\n}\n\nexport const searchMovies = async stringToSearch => {\n  const queryString = `search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n\n  const { data: movies } = await axios.get(queryString);\n\n  return movies;\n};\n"],"names":["HomePage","location","useLocation","useState","movies","setMovies","useEffect","fetchTrendMovies","then","request","results","map","movie","to","pathname","id","state","from","title","axios","KEY","BASE_URL","IMAGE_URL","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchMovieById","fetchMovieCast","fetchMovieReviews","searchMovies","stringToSearch","queryString","data"],"sourceRoot":""}